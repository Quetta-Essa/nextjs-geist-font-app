{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { ReactNode, useState, useEffect, createContext, useContext } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\ninterface AuthContextType {\n  user: string | null;\n  login: (username: string, password: string) => Promise<boolean>;\n  logout: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth must be used within AuthProvider\");\n  }\n  return context;\n};\n\nconst AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<string | null>(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    // Check if user is logged in on mount\n    const storedUser = sessionStorage.getItem(\"jkmobilezone_user\");\n    if (storedUser) {\n      setUser(storedUser);\n    }\n  }, []);\n\n  const login = async (username: string, password: string) => {\n    // Call login API\n    const res = await fetch(\"/api/auth/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username, password }),\n    });\n    if (res.ok) {\n      setUser(username);\n      sessionStorage.setItem(\"jkmobilezone_user\", username);\n      router.push(\"/\");\n      return true;\n    }\n    return false;\n  };\n\n  const logout = () => {\n    setUser(null);\n    sessionStorage.removeItem(\"jkmobilezone_user\");\n    router.push(\"/login\");\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default function RootLayout({ children }: { children: ReactNode }) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <title>JK Mobile Zone</title>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap\"\n          rel=\"stylesheet\"\n        />\n      </head>\n      <body className=\"bg-white text-black font-sans\" style={{ fontFamily: \"'Inter', sans-serif\" }}>\n        <AuthProvider>\n          <div className=\"min-h-screen flex flex-col\">\n            <header className=\"bg-black text-white p-4 flex justify-between items-center\">\n              <h1 className=\"text-xl font-bold\">JK Mobile Zone</h1>\n              <Nav />\n            </header>\n            <main className=\"flex-grow p-6\">{children}</main>\n            <footer className=\"bg-black text-white p-4 text-center text-sm\">\n              &copy; {new Date().getFullYear()} JK Mobile Zone\n            </footer>\n          </div>\n        </AuthProvider>\n      </body>\n    </html>\n  );\n}\n\nfunction Nav() {\n  const { user, logout } = useAuth();\n\n  return (\n    <nav>\n      {user ? (\n        <div className=\"flex items-center space-x-4\">\n          <Link href=\"/\" className=\"hover:underline\">\n            Dashboard\n          </Link>\n          <Link href=\"/inventory\" className=\"hover:underline\">\n            Inventory\n          </Link>\n          <Link href=\"/clients\" className=\"hover:underline\">\n            Clients\n          </Link>\n          <button\n            onClick={logout}\n            className=\"bg-white text-black px-3 py-1 rounded hover:bg-gray-200 transition\"\n          >\n            Logout\n          </button>\n        </div>\n      ) : (\n        <Link href=\"/login\" className=\"hover:underline\">\n          Login\n        </Link>\n      )}\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAYA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,UAAU;;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa;AAQb,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;;IACzD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAChD,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,sCAAsC;YACtC,MAAM,aAAa,eAAe,OAAO,CAAC;YAC1C,IAAI,YAAY;gBACd,QAAQ;YACV;QACF;iCAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAkB;QACrC,iBAAiB;QACjB,MAAM,MAAM,MAAM,MAAM,mBAAmB;YACzC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAU;YAAS;QAC5C;QACA,IAAI,IAAI,EAAE,EAAE;YACV,QAAQ;YACR,eAAe,OAAO,CAAC,qBAAqB;YAC5C,OAAO,IAAI,CAAC;YACZ,OAAO;QACT;QACA,OAAO;IACT;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,eAAe,UAAU,CAAC;QAC1B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP;IAvCM;;QAEW,qIAAA,CAAA,YAAS;;;KAFpB;AAyCS,SAAS,WAAW,EAAE,QAAQ,EAA2B;IACtE,qBACE,6LAAC;QAAK,MAAK;;0BACT,6LAAC;;kCACC,6LAAC;kCAAM;;;;;;kCACP,6LAAC;wBAAK,MAAK;wBAAW,SAAQ;;;;;;kCAC9B,6LAAC;wBACC,MAAK;wBACL,KAAI;;;;;;;;;;;;0BAGR,6LAAC;gBAAK,WAAU;gBAAgC,OAAO;oBAAE,YAAY;gBAAsB;0BACzF,cAAA,6LAAC;8BACC,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAO,WAAU;;kDAChB,6LAAC;wCAAG,WAAU;kDAAoB;;;;;;kDAClC,6LAAC;;;;;;;;;;;0CAEH,6LAAC;gCAAK,WAAU;0CAAiB;;;;;;0CACjC,6LAAC;gCAAO,WAAU;;oCAA8C;oCACtD,IAAI,OAAO,WAAW;oCAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/C;MA3BwB;AA6BxB,SAAS;;IACP,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG;IAEzB,qBACE,6LAAC;kBACE,qBACC,6LAAC;YAAI,WAAU;;8BACb,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAkB;;;;;;8BAG3C,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAa,WAAU;8BAAkB;;;;;;8BAGpD,6LAAC,+JAAA,CAAA,UAAI;oBAAC,MAAK;oBAAW,WAAU;8BAAkB;;;;;;8BAGlD,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;iCAKH,6LAAC,+JAAA,CAAA,UAAI;YAAC,MAAK;YAAS,WAAU;sBAAkB;;;;;;;;;;;AAMxD;IA9BS;;QACkB;;;MADlB","debugId":null}}]
}